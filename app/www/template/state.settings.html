<toolbar></toolbar>

<div class="content">
	<div class="msg msg-error" ng-if="error">{{ error }}</div>

	<div ng-show="!changePassword">
		<button ng-click="changePassword = true">Change password</button>
		<button ng-click="delete()" ng-class="{ loading: loading }" ng-disabled="loading">Delete account</button>
	</div>

	<div ng-show="changePassword">
		<input type="password" placeholder="Password" ng-model="password1">
		<input type="password" placeholder="Confirm" ng-model="password2">

		<button ng-click="savePassword()" ng-class="{ loading: loading }" ng-disabled="loading">Save</button>
		<button ng-click="changePassword = false">Cancel</button>
	</div>

	<div class="msg msg-error" ng-if="error">{{ error }}</div>

	<div class="header">
		<ul>

			<li ng-if="own && !showEdit" ng-click="toggleEdit(true)">
				<div class="number">Edit</div>
				<div class="noun">profile</div>

			</li><li ng-if="own && showEdit" ng-click="save()">
				<div class="number">Save</div>
				<div class="noun">profile</div>

			</li>
		</ul>
	</div>

	<div class="person-info" ng-if="!showContact">
		<div ng-if="!showEdit">
			<div class="person-username">{{ person.attributes.username }}</div>
			<div class="person-biography">{{ person.attributes.biography }}</div>
		</div>
		<div ng-if="own && showEdit">
			<input type="text" ng-model="edit.username" class="person-username">
			<textarea ng-model="edit.biography" class="person-biography"></textarea>
		</div>
	</div>

	<ul class="contact" ng-if="showContact">
		<li ng-repeat="(type, contact) in person.contact">
			<i class="fa {{ contactIcon[type] }}"></i>
			{{ type }}
		</li>
	</ul>
</div>

