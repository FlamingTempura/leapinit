<div class="msg msg-error" ng-if="error">{{ error }}</div>


<div ng-switch="panel.selected">
	<div class="switch" ng-switch-default>
		<div class="header">
			<ul>
				<li ng-if="own && !showEdit" ng-click="toggleEdit(true)">
					<div class="number">Edit</div>
					<div class="noun">profile</div>

				</li><li ng-if="own && showEdit" ng-click="save()">
					<div class="number">Save</div>
					<div class="noun">profile</div>

				</li><li ng-if="own && showEdit" ng-click="toggleEdit(false)">
					<div class="number">Cancel</div>
					<div class="noun">edit</div>

				</li><li ng-if="!own && !isFriend()" ng-click="addFriend()">
					<div class="number">Add</div>
					<div class="noun">friend</div>

				</li><li ng-if="!own && isFriend()" ng-click="removeFriend()">
					<div class="number">Remove</div>
					<div class="noun">friend</div>

				</li><li ng-if="!showEdit && (own || isFriend()) " ng-click="panel.selected = 'contact'">
					<div class="number">Contact</div>
					<div class="noun">info</div>
					<i class="fa fa-chevron-right"></i>
				</li>
			</ul>
		</div>

		<div class="avatar avatar-medium" avatar="person.attributes.avatar" ng-if="!own"></div>
		<div class="avatar avatar-medium" avatar="person.attributes.avatar" ng-if="own" ng-click="go('/avatar')"></div>

		<div class="person-info">
			<div ng-if="!showEdit">
				<div class="person-username">{{ person.attributes.username }}</div>
				<div class="person-biography">{{ person.attributes.biography }}</div>
			</div>
			<div ng-if="own && showEdit">
				<input type="text" ng-model="edit.username" class="person-username">
				<textarea ng-model="edit.biography" class="person-biography"></textarea>
			</div>
		</div>
	</div>

	<div class="switch" ng-switch-when="contact">
		<div class="header">
			<ul>
				<li ng-if="!showEdit" ng-click="panel.selected = 'profile'">
					<i class="fa fa-chevron-left"></i>
					<div class="number">Back</div>
					<div class="noun">to profile</div>

				</li><li ng-if="own && !showEdit" ng-click="toggleEdit(true)">
					<div class="number">Edit</div>
					<div class="noun">profile</div>

				</li><li ng-if="own && showEdit" ng-click="save()">
					<div class="number">Save</div>
					<div class="noun">profile</div>

				</li><li ng-if="own && showEdit" ng-click="toggleEdit(false)">
					<div class="number">Cancel</div>
					<div class="noun">edit</div>
				</li>
			</ul>
		</div>

		<div class="avatar avatar-medium" avatar="person.attributes.avatar" ng-if="!own"></div>
		<div class="avatar avatar-medium" avatar="person.attributes.avatar" ng-if="own" ng-click="go('/avatar')"></div>

		<ul class="contact">
			<li ng-repeat="(type, contact) in person.contact">
				<i class="fa {{ contactIcon[type] }}"></i>
				{{ type }}
			</li>
		</ul>
	</div>
</div>



